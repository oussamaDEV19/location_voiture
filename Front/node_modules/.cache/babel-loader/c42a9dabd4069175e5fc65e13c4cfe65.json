{"ast":null,"code":"import swal from \"sweetalert\";\nimport { Redirect } from 'react-router-dom';\nimport { formatError, login, runLogoutTimer, saveTokenInLocalStorage, signUp } from '../../services/AuthService';\nexport const SIGNUP_CONFIRMED_ACTION = '[signup action] confirmed signup';\nexport const SIGNUP_FAILED_ACTION = '[signup action] failed signup';\nexport const LOGIN_CONFIRMED_ACTION = '[login action] confirmed login';\nexport const LOGIN_FAILED_ACTION = '[login action] failed login';\nexport const LOADING_TOGGLE_ACTION = '[Loading action] toggle loading';\nexport const LOGOUT_ACTION = '[Logout action] logout action';\nexport function signupAction(email, password, history) {\n  return dispatch => {\n    signUp(email, password).then(response => {\n      saveTokenInLocalStorage(response.data);\n      runLogoutTimer(dispatch, response.data.expiresIn * 1000, history);\n      dispatch(confirmedSignupAction(response.data));\n      history.push('/');\n    }).catch(error => {\n      const errorMessage = formatError(error.response.data);\n      dispatch(signupFailedAction(errorMessage));\n    });\n  };\n}\nexport function logout(history) {\n  localStorage.removeItem('userDetails');\n  history.push('/login');\n  return {\n    type: LOGOUT_ACTION\n  };\n}\nexport function loginAction(email, password, history) {\n  return dispatch => {\n    login(email, password).then(response => {\n      saveTokenInLocalStorage(response.data);\n      runLogoutTimer(dispatch, response.data.expiresIn * 1000, history);\n      dispatch(loginConfirmedAction(response.data));\n      history.push('/');\n      window.location.reload();\n    }).catch(error => {\n      const errorMessage = formatError(error.response.data);\n      dispatch(loginFailedAction(errorMessage));\n    });\n  };\n}\nexport function loginFailedAction(data) {\n  return {\n    type: LOGIN_FAILED_ACTION,\n    payload: data\n  };\n}\nexport function loginConfirmedAction(data) {\n  return {\n    type: LOGIN_CONFIRMED_ACTION,\n    payload: data\n  };\n}\nexport function confirmedSignupAction(payload) {\n  return {\n    type: SIGNUP_CONFIRMED_ACTION,\n    payload\n  };\n}\nexport function signupFailedAction(message) {\n  return {\n    type: SIGNUP_FAILED_ACTION,\n    payload: message\n  };\n}\nexport function loadingToggleAction(status) {\n  return {\n    type: LOADING_TOGGLE_ACTION,\n    payload: status\n  };\n}","map":{"version":3,"sources":["C:/Users/XpS/Desktop/MERN-LOCATION-VOITURE - Copy/Front/src/store/actions/AuthActions.js"],"names":["swal","Redirect","formatError","login","runLogoutTimer","saveTokenInLocalStorage","signUp","SIGNUP_CONFIRMED_ACTION","SIGNUP_FAILED_ACTION","LOGIN_CONFIRMED_ACTION","LOGIN_FAILED_ACTION","LOADING_TOGGLE_ACTION","LOGOUT_ACTION","signupAction","email","password","history","dispatch","then","response","data","expiresIn","confirmedSignupAction","push","catch","error","errorMessage","signupFailedAction","logout","localStorage","removeItem","type","loginAction","loginConfirmedAction","window","location","reload","loginFailedAction","payload","message","loadingToggleAction","status"],"mappings":"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","sourcesContent":["import swal from \"sweetalert\";\nimport { Redirect } from 'react-router-dom';\nimport {\n    formatError,\n    login,\n    runLogoutTimer,\n    saveTokenInLocalStorage,\n    signUp,\n} from '../../services/AuthService';\n\n\nexport const SIGNUP_CONFIRMED_ACTION = '[signup action] confirmed signup';\nexport const SIGNUP_FAILED_ACTION = '[signup action] failed signup';\nexport const LOGIN_CONFIRMED_ACTION = '[login action] confirmed login';\nexport const LOGIN_FAILED_ACTION = '[login action] failed login';\nexport const LOADING_TOGGLE_ACTION = '[Loading action] toggle loading';\nexport const LOGOUT_ACTION = '[Logout action] logout action';\n\nexport function signupAction(email, password, history) {\n    return (dispatch) => {\n        signUp(email, password)\n        .then((response) => {\n            saveTokenInLocalStorage(response.data);\n            runLogoutTimer(\n                dispatch,\n                response.data.expiresIn * 1000,\n                history,\n            );\n            dispatch(confirmedSignupAction(response.data));\n            history.push('/');\n        })\n        .catch((error) => {\n            const errorMessage = formatError(error.response.data);\n            dispatch(signupFailedAction(errorMessage));\n        });\n    };\n}\n\nexport function logout(history) {\n    localStorage.removeItem('userDetails');\n    history.push('/login');\n    return {\n        type: LOGOUT_ACTION,\n    };\n}\n\nexport function loginAction(email, password, history) {\n    return (dispatch) => {\n        login(email, password)\n            .then((response) => {\n                saveTokenInLocalStorage(response.data);\n                runLogoutTimer(\n                    dispatch,\n                    response.data.expiresIn * 1000,\n                    history,\n                );\n               dispatch(loginConfirmedAction(response.data));\n\t\t\t\thistory.push('/');\n                window.location.reload();\n\t\t\t\t\n            })\n            .catch((error) => {\n                const errorMessage = formatError(error.response.data);\n                dispatch(loginFailedAction(errorMessage));\n            });\n    };\n}\n\nexport function loginFailedAction(data) {\n    return {\n        type: LOGIN_FAILED_ACTION,\n        payload: data,\n    };\n}\n\nexport function loginConfirmedAction(data) {\n    return {\n        type: LOGIN_CONFIRMED_ACTION,\n        payload: data,\n    };\n}\n\nexport function confirmedSignupAction(payload) {\n    return {\n        type: SIGNUP_CONFIRMED_ACTION,\n        payload,\n    };\n}\n\nexport function signupFailedAction(message) {\n    return {\n        type: SIGNUP_FAILED_ACTION,\n        payload: message,\n    };\n}\n\nexport function loadingToggleAction(status) {\n    return {\n        type: LOADING_TOGGLE_ACTION,\n        payload: status,\n    };\n}\n"]},"metadata":{},"sourceType":"module"}